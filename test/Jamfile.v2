#          Copyright Tom Westerhout 2017.
# Distributed under the Boost Software License, Version 1.0.
#    (See accompanying file LICENSE_1_0.txt or copy at
#          http://www.boost.org/LICENSE_1_0.txt)

import testing ;
import os ;
import path ;
import property-set ;
import errors ;


local boost-root ;
# if BOOST_ROOT {
#     # Build as part of Boost. Jamroot defines BOOST_ROOT path constant.
#     ECHO $(BOOST_ROOT) ;
#     boost-root = $(BOOST_ROOT) ;
# }
# else {
    # Standalone build.
#     ECHO $(BOOST_ROOT) ;
    boost-root = [ os.environ BOOST_ROOT ] ;
# }

project
    : requirements <include>../include
                   <include>$(boost-root)
                   <warnings>all
                   <exception-handling>on
                   # Enable exceptions on Windows
                   <host-os>windows,<toolset>clang:<cxxflags>"-fexceptions"
    ;

alias static_views_tests : correctness optimisation ;

alias minimal : static_views_tests ;
alias ful     : static_views_tests ;
alias extra   : static_views_tests ;
